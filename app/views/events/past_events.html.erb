<% provide(:title, "Past Events") %>

<%= render "events/header" %>

<ul class="nav nav-tabs mx-auto col-md-6 col-md-offset-3 d-flex justify-content-center">
	<li class="nav-item">
		<%= link_to "Upcoming Events", root_path, class: "nav-link" %>
  </li>
	<li class="nav-item">
		<%= link_to past_events_path, class: "nav-link active" do %>
			Past Events
			<span class="badge bg-primary text-light">
				<%= @past.count %>
			</span>
		<% end %>
  </li>
</ul>

<% unless @past.empty? %>
	<div class="container px-2 py-5" id="featured-3">
		<div class="row d-flex justify-content-center d-grid gap-3">
			<% @past.each do |event| %>
				<div class="card shadow-lg p-3 mb-5 bg-body rounded" style="width: 20rem;">
					<div class="card-body">
						<h4 class="card-title text-truncate text-center text-secondary">
							<%= event.event_name %>
						</h4>
						<hr class="divider">
						<p class="card-text text-truncate">
							Created by <%= event.creator.email %><br>
							At <%=  event.location %> | <%= event.date&.strftime('%d %B %Y') %>
						</p>
						<%= link_to "Go to event details", event, class: "btn btn-outline-secondary d-grid gap-3" %>
					</div>
				</div>
			<% end %>
		</div>
	</div>
<% else %>
	<h3 class="text-center">
		There is no past events.
	</h3>
<% end %>
